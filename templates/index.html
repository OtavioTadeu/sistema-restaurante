<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fa√ßa seu Pedido</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='client.css') }}">
</head>

<body class="client-page">
    <div class="container">

        <div class="cardapio-coluna">
            <h1>Card√°pio do Dia</h1>
            <p>Escolha seu prato e o tamanho desejado.</p>

            <div class="cardapio-lista">
                {% for item in cardapio_hoje %}
                <div class="prato">
                    <h2>{{ item.prato.nome_prato }}</h2>
                    <p class="descricao">
                        Acompanha: {{ item.descricao_dia }}
                    </p>

                    {% for tam in tamanhos %}
                    <div class="tamanho-opcao">
                        <div>
                            <span class="tamanho-nome">{{ tam.nome }}</span>
                            <span class="tamanho-preco">
                                R$ {{ "%.2f"|format(tam.preco) }}
                            </span>
                        </div>
                        <button class="btn-add-item" data-prato-id="{{ item.id }}"
                            data-prato-nome="{{ item.prato.nome_prato }}" data-tamanho-id="{{ tam.id }}"
                            data-tamanho-nome="{{ tam.nome }}" data-preco="{{ tam.preco }}">
                            +
                        </button>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <p>Nenhum prato dispon√≠vel no card√°pio de hoje.</p>
                {% endfor %}
            </div>
        </div>

        <div class="carrinho-coluna">
            <h2>üõí Meu Pedido</h2>

            <div id="lista-carrinho">
                <p style="color: #777;">Seu carrinho est√° vazio.</p>
            </div>

            <div class="carrinho-total">
                <span>Total:</span>
                <span id="total-carrinho">R$ 0.00</span>
            </div>

            <button type="button" id="clear-cart-btn">
                Limpar Carrinho
            </button>

            <div id="checkout-form">
                <form id="form-pedido">
                    <h3>Seus Dados</h3>

                    <label for="nome_cliente">Nome Completo:</label>
                    <input type="text" id="nome_cliente" name="nome_cliente" required>

                    <label for="telefone_cliente">Telefone (para contato/entrega):</label>
                    <input type="tel" id="telefone_cliente" name="telefone_cliente" required>

                    <label>Tipo de Pedido:</label>
                    <div style="margin-bottom: 10px;">
                        <input type="radio" id="tipo_retirada" name="tipo_pedido" value="RETIRADA" checked>
                        <label for="tipo_retirada">Vou Retirar</label>
                        <br>
                        <input type="radio" id="tipo_entrega" name="tipo_pedido" value="ENTREGA">
                        <label for="tipo_entrega">Entrega (Delivery)</label>
                    </div>

                    <div id="campo_endereco" style="display: none;">
                        <label for="endereco_cliente">Endere√ßo de Entrega:</label>
                        <input type="text" id="endereco_cliente" name="endereco_cliente">
                    </div>

                    <button type="submit" id="btn-finalizar" class="btn-submit">
                        Finalizar Pedido
                    </button>
                </form>
            </div>
        </div>

    </div>
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>

</html>